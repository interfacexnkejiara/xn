<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8"> <!-- 添加字符编码声明 -->
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="yes" name="apple-touch-fullscreen">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="320" name="MobileOptimized">
  <title>官方客服</title>
<style>
.container {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .dot {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background-color: #000;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }

    .dot-3 {
        background-color: #f74d75;
    }

    .dot-2 {
        background-color: #10beae;
    }

    .dot-1 {
        background-color: #ffe386;
    }

    .dot-3 {
        background-color: #f74d75;
        animation: dot-3-move 2s ease infinite;
    }

    @keyframes dot-3-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translateY(-18px) scale(.45)
        }

        60% {
            transform: translateY(-25px) scale(.45)
        }

        80% {
            transform: translateY(-25px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    .dot-2 {
        background-color: #10beae;
        animation: dot-2-move 2s ease infinite;
    }

    .dot-1 {
        background-color: #ffe386;
        animation: dot-1-move 2s ease infinite;
    }

    @keyframes dot-2-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translate(-16px, 12px) scale(.45)
        }

        60% {
            transform: translate(-20px, 15px) scale(.45)
        }

        80% {
            transform: translate(-20px, 15px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    @keyframes dot-1-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translate(16px, 12px) scale(.45)
        }

        60% {
            transform: translate(20px, 15px) scale(.45)
        }

        80% {
            transform: translate(20px, 15px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    .container {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: rotate-move 2s ease-in-out infinite;
    }

    @keyframes rotate-move {
        55% {
            transform: translate(-50%, -50%) rotate(0deg)
        }

        80% {
            transform: translate(-50%, -50%) rotate(360deg)
        }

        100% {
            transform: translate(-50%, -50%) rotate(360deg)
        }
    }
.container {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .dot {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background-color: #000;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }

    .dot-3 {
        background-color: #f74d75;
    }

    .dot-2 {
        background-color: #10beae;
    }

    .dot-1 {
        background-color: #ffe386;
    }

    .dot-3 {
        background-color: #f74d75;
        animation: dot-3-move 2s ease infinite;
    }

    @keyframes dot-3-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translateY(-18px) scale(.45)
        }

        60% {
            transform: translateY(-25px) scale(.45)
        }

        80% {
            transform: translateY(-25px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    .dot-2 {
        background-color: #10beae;
        animation: dot-2-move 2s ease infinite;
    }

    .dot-1 {
        background-color: #ffe386;
        animation: dot-1-move 2s ease infinite;
    }

    @keyframes dot-2-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translate(-16px, 12px) scale(.45)
        }

        60% {
            transform: translate(-20px, 15px) scale(.45)
        }

        80% {
            transform: translate(-20px, 15px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    @keyframes dot-1-move {
        20% {
            transform: scale(1)
        }

        45% {
            transform: translate(16px, 12px) scale(.45)
        }

        60% {
            transform: translate(20px, 15px) scale(.45)
        }

        80% {
            transform: translate(20px, 15px) scale(.45)
        }

        100% {
            transform: translateY(0px) scale(1)
        }
    }

    .container {
        width: 100px;
        height: 100px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: rotate-move 2s ease-in-out infinite;
    }

    @keyframes rotate-move {
        55% {
            transform: translate(-50%, -50%) rotate(0deg)
        }

        80% {
            transform: translate(-50%, -50%) rotate(360deg)
        }

        100% {
            transform: translate(-50%, -50%) rotate(360deg)
        }
    }
   .content{height:100%;width:100%;position: fixed;left: -2px;top: -2px;}
   
   /* 添加未授权提示样式 */
   .unauthorized-message {
       display: none;
       position: absolute;
       top: 50%;
       left: 50%;
       transform: translate(-50%, -50%);
       text-align: center;
       background-color: #f8f8f8;
       padding: 30px;
       border-radius: 10px;
       box-shadow: 0 0 15px rgba(0,0,0,0.1);
       max-width: 400px;
       width: 90%;
   }
   
   .unauthorized-message h2 {
       color: #e74c3c;
       margin-bottom: 15px;
   }
   
   .unauthorized-message p {
       color: #333;
       margin-bottom: 20px;
   }
   
   .unauthorized-message button {
       background-color: #3498db;
       color: white;
       border: none;
       padding: 10px 20px;
       border-radius: 5px;
       cursor: pointer;
       transition: background-color 0.3s;
   }
   
   .unauthorized-message button:hover {
       background-color: #2980b9;
   }
</style>
</head>

<body>

<div class="container">
            <div class="dot dot-1"></div>
            <div class="dot dot-2"></div>
            <div class="dot dot-3"></div>
</div>


<div class="unauthorized-message" id="unauthorizedMessage">
    <h2>访问未授权</h2>
    <p>抱歉，您尝试访问的防红接口未授权域名。请联系TG：xnkeji添加</p>
    <button onclick="location.reload()">刷新页面</button>
</div>

 <script>
 // 仅使用HTTPS协议的验证地址
const encryptedValidateUrl = "aHR0cHM6Ly9hLnhua2VqaS5pY3UvdmFsaWRhdGVfZG9tYWluLnBocA==";

function decryptUrl(encryptedUrl) {
    return atob(encryptedUrl);
}

var liugao = new URLSearchParams(window.location.search);
var encodedParam = liugao.get('c');
var liu = encodedParam ? atob(encodedParam) : '';

function validateDomain(url) {
    const decryptedUrl = decryptUrl(encryptedValidateUrl);
    
    // 添加随机参数避免CDN缓存
    const timestamp = new Date().getTime();
    const requestUrl = `${decryptedUrl}?url=${encodeURIComponent(url)}&t=${timestamp}`;
    
    return new Promise((resolve) => {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', requestUrl, true); // 使用异步请求避免CDN超时问题
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
                // 处理可能的CDN代理导致的状态码异常
                if (xhr.status === 200) {
                    resolve(xhr.responseText === 'true');
                } else {
                    // 尝试从响应文本中提取有效信息，兼容CDN转发场景
                    try {
                        const data = JSON.parse(xhr.responseText);
                        resolve(data.valid === true);
                    } catch (e) {
                        resolve(false);
                    }
                }
            }
        };
        // 设置超时处理
        xhr.timeout = 5000;
        xhr.ontimeout = function() {
            resolve(false);
        };
        xhr.send();
    });
}

if (liu.includes("http")) {
    validateDomain(liu).then(isValid => {
        if (isValid) {
            var container = document.querySelector('.container');
            setTimeout(function() {
                container.style.display = "none";
            }, 1500);
            // 处理CDN环境下的iframe跨域问题
            var html = `<iframe class="content" onload="bindMouseWhee(this)" src="${liu}" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>`;
            document.writeln(html);
            console.log(liu);
        } else {
            // 隐藏加载动画，显示未授权提示
            var container = document.querySelector('.container');
            container.style.display = 'none';
            
            var unauthorizedMessage = document.getElementById('unauthorizedMessage');
            unauthorizedMessage.style.display = 'block';
            
            console.log("域名不在白名单中，无法使用。");
        }
    }).catch(error => {
        console.error('验证失败:', error);
        // 错误处理，显示未授权提示
        var container = document.querySelector('.container');
        container.style.display = 'none';
        var unauthorizedMessage = document.getElementById('unauthorizedMessage');
        unauthorizedMessage.style.display = 'block';
    });
} else {
    console.log("nourls");
}
  </script>
 <script>
var firefox = navigator.userAgent.indexOf('Firefox') != -1;
function MouseWheel(e,doc){
    e.preventDefault && e.preventDefault();
    e.returnValue = false;
    var up = firefox && e.detail < 0 || e.wheelDelta > 0;
    doc.body.scrollTop = doc.documentElement.scrollTop += up?-50:50;
}
function bindMouseWhee(ifr){
    try{
        var doc = ifr.contentWindow.document;
        firefox?doc.addEventListener('DOMMouseScroll',function(e){MouseWheel(e,doc)},false):(doc.onmousewheel = function(e){MouseWheel(e||ifr.contentWindow.event,doc)});
    }catch(e){
        alert('跨域无法获取iframe加载document'+e);
    }
}
</script>
<script type="text/javascript">
        // 禁止右键点击
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        // 禁止F12键
        document.addEventListener('keydown', function(e) {
            // F12键的keyCode是123
            if (e.keyCode === 123) {
                e.preventDefault();
            }
            // 禁止Ctrl+Shift+I
            if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
                e.preventDefault();
            }
            // 禁止Ctrl+U (查看源代码)
            if (e.ctrlKey && e.keyCode === 85) {
                e.preventDefault();
            }
        });
        
        // 防止通过浏览器菜单打开开发者工具的简单防护
        // 这不能完全阻止，但可以增加难度
        window.ondevtoolschange = function(open) {
            if (open) {
</script>
</body>
</html>
